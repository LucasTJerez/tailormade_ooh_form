{"version":3,"sources":["pages/CalculateReach.js","App.js","index.js"],"names":["axios","require","default","CalculateReach","props","state","reachData","reachName","segments","genders","ages","locations","mediums","start","end","backtrackStart","backtrackEnd","comments","formData","sampleReach","names","helperTexts","focusedInput","backtrackFocusedInput","validations","formHasError","fieldHasError","date","backtrack","handleDuration","chosenDate","startDate","endDate","validationsNew","diff","setValidation","setState","handleBacktrack","formDataRaw","formDataNew","key","valid","this","localStorage","getItem","calculatedReaches","setItem","JSON","stringify","create","baseURL","timeout","withCredentials","responseType","headers","segmentsNew","locationsNew","apiData","stringToReturn","Object","keys","forEach","slice","length","field","index","helperTextToSet","fieldHasErrorToSet","error","reachDataLists","Array","isArray","input","includes","validateList","values","window","scrollTo","event","fieldName","target","name","fieldVal","value","reachDataNew","listCopy","indexOf","push","splice","validateFails","uploadedReaches","parse","reachDataToUpload","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","dateCreated","classes","Grid","container","direction","spacing","item","xs","Collapse","in","Alert","className","alert","severity","AlertTitle","getFieldErrors","FormControl","FormLabel","FormGroup","row","TextField","variant","onChange","handleChange","bind","FormHelperText","Divider","divider","Autocomplete","multiple","id","options","selected","renderTags","getTagProps","map","option","Chip","label","renderInput","params","placeholder","genderNames","FormControlLabel","control","Checkbox","color","checked","handleSelectChange","light","ageNames","mediumNames","startDateId","endDateId","firstDayOfWeek","displayFormat","onFocusChange","onDatesChange","startDatePlaceholderText","endDatePlaceholderText","isOutsideRange","day","isInclusivelyBeforeDay","moment","component","multiline","Button","buttons","onClick","uploadFormula","size","Component","withStyles","theme","root","flexGrow","marginTop","marginBottom","margin","withTheme","useStyles","makeStyles","backgroundColor","paper","marginLeft","marginRight","calculateReach","padding","App","Paper","Toolbar","Typography","title","noWrap","render","document","querySelector"],"mappings":"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","file":"static/js/main.556af3ce.chunk.js","sourcesContent":["\nimport React, { Component } from \"react\";\nimport { Autocomplete, Alert, AlertTitle } from '@material-ui/lab';\nimport { DateRangePicker } from 'react-dates';\nimport moment from 'moment';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { isInclusivelyBeforeDay } from 'react-dates';\nimport {\n    Collapse,\n    FormControl,\n    FormHelperText,\n    Grid,\n    TextField,\n    Checkbox,\n    Chip,\n    FormControlLabel,\n    FormGroup,\n    FormLabel,\n    Button,\n    Divider,\n} from '@material-ui/core';\nimport 'react-dates/initialize';\nimport 'react-dates/lib/css/_datepicker.css';\n\n//used to get market segments from audience api\nconst axios = require('axios').default;\n\n//styles for subcomponents\nconst styles = theme => ({\n    root: { flexGrow: 1, },\n    divider: {\n        marginTop: theme.spacing(2.5),\n        marginBottom: theme.spacing(2.5),\n    },\n    buttons: { margin: \"auto\", },\n    alert: { marginBottom: theme.spacing(2.5) }\n\n})\n\n\nclass CalculateReach extends Component {\n\n    state = {\n        reachData: { //data to upload\n            reachName: \"\",\n            segments: [],\n            genders: [],\n            ages: [],\n            locations: [],\n            mediums: [],\n            start: null,\n            end: null,\n            backtrackStart: null,\n            backtrackEnd: null,\n            comments: \"\",\n        },\n        formData: { //helperData for the form\n            sampleReach: {},\n            names: {},\n            helperTexts: {},\n            segments: [],\n            locations: [],\n            focusedInput: null,\n            backtrackFocusedInput: null,\n        },\n        validations: { //field validation and helper texts\n            formHasError: false,\n            fieldHasError: {\n                reachName: false,\n                locations: false,\n                date: false,\n                mediums: false,\n                ages: false,\n                segments: false,\n                genders: false,\n            },\n            helperTexts: {\n                reachName: \"\",\n                locations: \"\",\n                date: \"\",\n                mediums: \"\",\n                ages: \"\",\n                segments: \"\",\n                comments: \"\",\n                genders: \"\",\n                backtrack: \"\",\n            },\n        },\n    }\n\n    constructor(props) { // instantiates state: formData and validations. formData.segments data uploaded in componentDidMount\n        super(props);\n        const {\n            formData,\n            validations\n        } = this.state;\n\n        let formDataRaw = require('./formData.json');\n        let formDataNew = formData;\n        for (var key in formDataRaw) { // does not instantiate formdata.segments\n            formDataNew[key] = formDataRaw[key]\n        };\n\n        //instantiate helperTexts\n        let validationsNew = validations;\n        validationsNew.helperTexts = formDataNew.helperTexts.valid;\n\n        this.state = { ...this.state, formData: formDataNew, validations: validationsNew, };\n    }\n\n\n\n\n\n    componentDidMount() { //uploads sample reach ato local storage nd instantiates formdata.segments\n        const { formData } = this.state;\n\n        //making sure there are items in local storage, if not, upload an example\n        if (localStorage.getItem(\"calculatedReaches\") === null) {\n            let calculatedReaches = {\n                [formData.sampleReach.reachName]: formData.sampleReach,\n            };\n            localStorage.setItem('calculatedReaches', JSON.stringify(calculatedReaches));\n        };\n\n        //request segments from api\n        const audience_api = axios.create({\n            baseURL: 'https://dev-di-audience-api.apps-dev.tid.es/rest/v1',\n            timeout: 20000,\n            withCredentials: true,\n            responseType: 'json',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer dG1hZHNAdG1hZHM6dWlHekRFd0FoZ0FndGdXWWN0eEFSY21iR2U5RHNIODF6SUZudEUyR0g5czNLNHFIc1V5bHhnVnRraHVCTDVVOVZwRGM3WXBOaFlvSVpLNUc3V2E3T3c'\n            }\n        });\n\n\n        let segmentsNew = [];\n        let locationsNew = [];\n\n        let apiData = require('./audienceAPIdata.json');\n        segmentsNew = apiData[\"segments\"]\n        locationsNew = apiData[\"provinces\"]\n\n        //api doesn't work with github pages, so all data is stored in .json instead\n\n        // let segmentsRaw = audience_api.get(\"enum/segments/items\")\n        // let locationsRaw = audience_api.get(\"enum/provinces/items\")\n        // axios.all([locationsRaw, segmentsRaw]).then(axios.spread((...responses) => {\n        //     responses[0].data.enumItems.items.map((value) => {\n        //         locationsNew.push(value.displayValue)\n        //     })\n        //     responses[1].data.enumItems.items.map((value) => {\n        //         segmentsNew.push(value.value)\n        //     })\n        // })).catch(errors => {\n        //     alert(errors)\n        // })\n        this.setState({ formData: { ...formData, segments: segmentsNew, locations: locationsNew } });\n    }\n\n    getFieldErrors() { //returns string of fields with errors for error alert\n        const { fieldHasError } = this.state.validations;\n        let stringToReturn = \"\";\n        Object.keys(fieldHasError).forEach((key) => {\n            if (fieldHasError[key]) {\n                key === \"reachName\" ?\n                    stringToReturn += \"reach name, \"\n                    :\n                    stringToReturn += key + \", \";\n            };\n        });\n        return stringToReturn.slice(0, stringToReturn.length - 2);\n    }\n\n    setValidation(validationsNew, field, index) { //index = -1 means field is valid, index = 0-2 indicates different errors\n        const helperTexts = this.state.formData.helperTexts;\n        let helperTextToSet = \"\";\n        let fieldHasErrorToSet = (index !== -1);\n\n        fieldHasErrorToSet ? helperTextToSet = helperTexts.error[field][index] : helperTextToSet = helperTexts.valid[field];\n\n        validationsNew = {\n            ...validationsNew,\n            fieldHasError: {\n                ...validationsNew.fieldHasError,\n                [field]: fieldHasErrorToSet,\n            },\n            helperTexts: {\n                ...validationsNew.helperTexts,\n                [field]: helperTextToSet,\n            }\n        };\n        return validationsNew;\n    }\n\n    validateList(validationsNew) { // check if lists in reachData are empty\n        let reachDataLists = this.state.reachData;\n\n        Object.keys(reachDataLists).forEach((key) => {\n            if (Array.isArray(reachDataLists[key])) {\n                if (reachDataLists[key].length === 0) {\n                    validationsNew = this.setValidation(validationsNew, key, 0);\n                }\n                else {\n                    validationsNew = this.setValidation(validationsNew, key, -1);\n                };\n            };\n        });\n        return validationsNew;\n    }\n\n    validateFails(input) {\n        const {\n            reachData,\n            validations,\n        } = this.state;\n        const {\n            reachName,\n            start,\n            end,\n        } = reachData;\n        let validationsNew = validations;\n\n\n        //validate reachName\n        if (reachName.length < 4) {\n            validationsNew = this.setValidation(validationsNew, \"reachName\", 0);\n        }\n        else if (reachName.includes(\" \")) {\n            validationsNew = this.setValidation(validationsNew, \"reachName\", 1);\n        }\n        else {\n            validationsNew = this.setValidation(validationsNew, \"reachName\", -1);\n        };\n\n        //validate duration\n        if (start === null || end === null) {\n            validationsNew = this.setValidation(validationsNew, \"date\", 1);\n        };\n\n        //validate reachData lists (segments, genders, ages, locations, mediums)\n        validationsNew = this.validateList(validationsNew);\n\n        let hasError = validationsNew.formHasError = Object.values(validationsNew.fieldHasError).includes(true);\n        if (hasError) { window.scrollTo(0, 0) };\n\n\n        this.setState({ validations: validationsNew });\n    }\n\n    handleChange(event) {\n        let fieldName = event.target.name;\n        let fieldVal = event.target.value;\n        let reachDataNew = this.state.reachData;\n\n        reachDataNew[fieldName] = fieldVal;\n        this.setState({ reachData: reachDataNew });\n    }\n\n    handleSelectChange(event) {\n        let fieldName = event.target.name;\n        let fieldVal = event.target.value;\n        let reachDataNew = this.state.reachData;\n        let listCopy = reachDataNew[fieldName];\n\n        if (listCopy.indexOf(fieldVal) === -1) {\n            listCopy.push(fieldVal);\n        }\n        else {\n            listCopy.splice(listCopy.indexOf(fieldVal), 1);\n        };\n\n        reachDataNew[fieldName] = listCopy;\n\n        this.setState({ reachData: reachDataNew });\n    }\n\n    handleDuration = (chosenDate) => {\n        const {\n            reachData,\n            validations,\n        } = this.state;\n        let {\n            startDate,\n            endDate\n        } = chosenDate;\n        let validationsNew = validations;\n\n        if (startDate && endDate && (endDate.diff(startDate, 'days') > 15)) {\n            validationsNew = this.setValidation(validationsNew, \"date\", 0);\n            endDate = null;\n        }\n        else {\n            validationsNew = this.setValidation(validationsNew, \"date\", -1);\n        };\n        this.setState({ reachData: { ...reachData, start: startDate, end: endDate }, validations: validationsNew });\n    }\n\n    handleBacktrack = (chosenDate) => {\n        const {\n            reachData,\n        } = this.state;\n        let {\n            startDate,\n            endDate\n        } = chosenDate;\n        this.setState({ reachData: { ...reachData, backtrackStart: startDate, backtrackEnd: endDate } });\n    }\n\n\n    uploadFormula() {\n\n        this.validateFails();\n\n        if (!this.state.validations.formHasError) {\n            const uploadedReaches = JSON.parse(localStorage.getItem('calculatedReaches'));\n            const reachDataToUpload = this.state.reachData;\n\n            var today = new Date();\n            var dd = String(today.getDate()).padStart(2, '0');\n            var mm = String(today.getMonth() + 1).padStart(2, '0');\n            var yyyy = today.getFullYear();\n            today = mm + '/' + dd + '/' + yyyy;\n            reachDataToUpload.dateCreated = today\n            \n            uploadedReaches[reachDataToUpload.reachName] = reachDataToUpload;\n            localStorage.setItem('calculatedReaches', JSON.stringify(uploadedReaches));\n        };\n    }\n\n\n\n    render() {\n        const { classes } = this.props;\n        const {\n            reachData,\n            validations,\n            formData,\n        } = this.state;\n        const {\n            mediums,\n            start,\n            end,\n            backtrackStart,\n            backtrackEnd,\n            ages,\n            genders,\n        } = reachData;\n        const {\n            fieldHasError,\n            helperTexts,\n        } = validations;\n\n        return (\n            <Grid\n                container\n                direction=\"column\"\n                spacing={3}\n            >\n                <Grid item xs={12}>\n                    <Collapse in={this.state.validations.formHasError}>\n                        <Alert className={classes.alert} severity=\"error\">\n                            <AlertTitle >Error</AlertTitle>\n                            Fields:\n                            <strong>\n                                {\" \" + this.getFieldErrors()}\n                            </strong>\n                        </Alert>\n                    </Collapse>\n\n                    {/* reachName name */}\n                    <FormControl error={fieldHasError.reachName}>\n                        <FormLabel>Reach Name</FormLabel>\n                        <FormGroup row >\n                            <TextField\n\n                                variant=\"outlined\"\n                                name={\"reachName\"}\n                                onChange={this.handleChange.bind(this)}\n                                error={fieldHasError.reachName}\n                            />\n                        </FormGroup>\n                        <FormHelperText >{helperTexts.reachName}</FormHelperText>\n                    </FormControl>\n\n                    <Divider className={classes.divider} />\n\n                    {/* segments */}\n                    <Autocomplete\n                        multiple\n                        id=\"tags-filled\"\n                        options={formData.segments}\n                        value={reachData.segments}\n                        onChange={(event, selected) => {\n                            this.setState({\n                                reachData: {\n                                    ...reachData,\n                                    segments: selected\n                                }\n                            })\n                        }}\n                        renderTags={(value, getTagProps) =>\n                            value.map((option, index) => (\n                                <Chip label={option} {...getTagProps({ index })} />\n                            ))\n                        }\n                        renderInput={(params) => (\n                            <FormControl error={fieldHasError.segments}>\n                                <FormLabel>Segments</FormLabel>\n                                <TextField error={fieldHasError.segments} {...params} variant=\"outlined\" placeholder=\"Search here\" />\n                                <FormHelperText >{helperTexts.segments}</FormHelperText>\n                            </FormControl>\n                        )}\n                    />\n\n                    <Divider className={classes.divider} />\n\n                    {/* locations */}\n                    <Autocomplete\n                        multiple\n                        id=\"tags-filled\"\n                        options={formData.locations}\n                        // freeSolo //allows any input\n                        value={reachData.locations}\n                        onChange={(event, selected) => {\n                            this.setState({\n                                reachData: {\n                                    ...reachData,\n                                    locations: selected\n                                }\n                            })\n                        }}\n                        renderTags={(value, getTagProps) =>\n                            value.map((option, index) => (\n                                <Chip label={option} {...getTagProps({ index })} />\n                            ))\n                        }\n                        renderInput={(params) => (\n                            <FormControl error={fieldHasError.locations}>\n                                <FormLabel>Locations</FormLabel>\n                                <TextField error={fieldHasError.locations} {...params} variant=\"outlined\" placeholder=\"Search here\" />\n                                <FormHelperText >{helperTexts.locations}</FormHelperText>\n                            </FormControl>\n                        )}\n                    />\n\n                    <Divider className={classes.divider} />\n\n                    {/* genders */}\n                    <FormControl error={fieldHasError.genders}>\n                        <FormLabel>Genders</FormLabel>\n                        <FormGroup row>\n                            {formData.names.genderNames.map((name) => (\n                                <FormControlLabel\n                                    key={name}\n                                    control={\n                                        <Checkbox\n                                            color=\"primary\"\n                                            checked={genders.indexOf(name) > -1}\n                                            name={\"genders\"}\n                                            value={name}\n                                            onChange={this.handleSelectChange.bind(this)}\n                                        />\n                                    }\n                                    label={name}\n                                />\n                            ))}\n                        </FormGroup>\n                        <FormHelperText>{helperTexts.genders}</FormHelperText>\n                    </FormControl>\n\n                    <Divider light className={classes.divider} />\n\n                    {/* age */}\n                    <FormControl error={fieldHasError.ages}>\n                        <FormLabel>Ages</FormLabel>\n                        <FormGroup row>\n                            {formData.names.ageNames.map((name) => (\n                                <FormControlLabel\n                                    key={name}\n                                    control={\n                                        <Checkbox\n                                            name={\"ages\"}\n                                            value={name}\n                                            onChange={this.handleSelectChange.bind(this)}\n                                            color=\"primary\"\n                                            checked={ages.indexOf(name) > -1}\n                                        />\n                                    }\n                                    label={name}\n                                />\n                            ))}\n                        </FormGroup>\n                        <FormHelperText>{helperTexts.ages}</FormHelperText>\n                    </FormControl>\n\n                    <Divider className={classes.divider} />\n\n                    {/* medium */}\n                    <FormControl error={fieldHasError.mediums}>\n                        <FormLabel>Mediums</FormLabel>\n                        <FormGroup row>\n                            {formData.names.mediumNames.map((name) => (\n                                <FormControlLabel\n                                    key={name}\n                                    control={\n                                        <Checkbox\n                                            color=\"primary\"\n                                            checked={mediums.indexOf(name) > -1}\n                                            name={\"mediums\"}\n                                            value={name}\n                                            onChange={this.handleSelectChange.bind(this)}\n                                        />\n                                    }\n                                    label={name}\n                                />\n                            ))}\n\n                        </FormGroup>\n                        <FormHelperText>{helperTexts.mediums}</FormHelperText>\n                    </FormControl>\n\n                    <Divider light className={classes.divider} />\n\n                    {/* DATE RANGE PICKER */}\n                    <FormControl error={fieldHasError.date}>\n                        <FormLabel>Duration</FormLabel>\n                        <FormGroup row>\n                            <DateRangePicker\n                                startDateId=\"durationStart\"\n                                endDateId=\"durationEnd\"\n                                firstDayOfWeek={1}\n                                startDate={start}\n                                endDate={end}\n                                displayFormat=\"DD-MM-YYYY\"\n                                focusedInput={formData.focusedInput}\n                                onFocusChange={focusedInput =>\n                                    this.setState({ formData: { ...formData, focusedInput } })\n                                }\n                                onDatesChange={this.handleDuration}\n                                startDatePlaceholderText=\" Start date\"\n                                endDatePlaceholderText=\" End date\"\n                            />\n                        </FormGroup>\n                        <FormHelperText>{helperTexts.date}</FormHelperText>\n                    </FormControl>\n\n                    <Divider className={classes.divider} />\n\n                    {/* backtrack */}\n                    <FormControl error={validations.backtrack}>\n                        <FormLabel>Backtrack Data</FormLabel>\n                        <FormGroup row>\n                            <DateRangePicker\n                                startDateId=\"backtrackStart\"\n                                endDateId=\"backtrackEnd\"\n                                isOutsideRange={day => !isInclusivelyBeforeDay(day, moment())}\n                                firstDayOfWeek={1}\n                                startDate={backtrackStart}\n                                endDate={backtrackEnd}\n                                displayFormat=\"DD-MM-YYYY\"\n                                focusedInput={formData.backtrackFocusedInput}\n                                onFocusChange={backtrackFocusedInput =>\n                                    this.setState({ formData: { ...formData, backtrackFocusedInput } })\n                                }\n                                onDatesChange={this.handleBacktrack}\n                                startDatePlaceholderText=\" Start date\"\n                                endDatePlaceholderText=\" End date\"\n                            />\n                        </FormGroup>\n                        <FormHelperText>*optional: use data from a period of time</FormHelperText>\n                    </FormControl>\n\n                    <Divider className={classes.divider} />\n\n\n                    {/* comments */}\n                    <FormControl >\n                        <FormGroup component=\"legend\">\n                            <FormLabel >Comments</FormLabel>\n                            <TextField\n                                name={\"comments\"}\n                                onChange={this.handleChange.bind(this)}\n                                color=\"primary\"\n                                multiline\n                                variant=\"outlined\"\n                            />\n\n                        </FormGroup>\n                        <FormHelperText>{helperTexts.comments}</FormHelperText>\n                    </FormControl>\n                </Grid >\n\n                <Button\n                    className={classes.buttons}\n                    onClick={() => this.uploadFormula()}\n                    variant=\"contained\"\n                    size=\"large\"\n                    color=\"primary\"\n                >\n                    Submit\n                    </Button>\n            </Grid >\n        );\n    }\n}\n\n\n\nexport default withStyles(styles, { withTheme: true })(CalculateReach);","import React from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography, Toolbar, Paper } from '@material-ui/core';\n\nimport CalculateReach from \"./pages/CalculateReach\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        backgroundColor: '#757ce8',\n    },\n    paper: {\n        marginLeft: theme.spacing(8),\n        marginRight: theme.spacing(8),\n    },\n    calculateReach: {\n        padding: theme.spacing(4),\n    },\n}));\n\n\n\nexport default function App() {\n    const classes = useStyles();\n    return (\n        <div className={classes.root} >\n\n\n            <Paper className={classes.paper}>\n\n                    <Toolbar>\n                        <Typography color=\"textSecondary\" className={classes.title} variant=\"h4\" noWrap>\n                            Out-of-Home Reach Request Form\n          </Typography>\n                    </Toolbar>\n                <div className={classes.calculateReach}>\n                    <CalculateReach />\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\n\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport React from 'react';\nimport { render } from 'react-snapshot';\nimport \"./index.css\";\nimport App from \"./App\";\n\n\n\n\nrender(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}